"use strict";(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[691],{9723:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var l=a(7294);var n=({value:e=0,update:t})=>l.createElement("div",{className:"counter-module--counter--2Dv6q"},l.createElement("button",{className:"counter-module--decrementButton--3KpC6",onClick:()=>{e<=0||t(e-1)}}),l.createElement("span",{className:"counter-module--value--ygrTP"},e),l.createElement("button",{className:"counter-module--incrementButton--d5zmp",onClick:()=>{t(e+1)}}));var r=({prop:e,update:t,remove:a})=>l.createElement("div",{className:"counterWithLabel-module--counterWithLabel--39Zi7"},l.createElement("input",{className:"counterWithLabel-module--label--2P_Sz",defaultValue:e.label,placeholder:"カウンタ名",onInput:a=>{t({...e,label:a.currentTarget.value})}}),l.createElement("div",{className:"counterWithLabel-module--counterRow--2D_g6"},l.createElement(n,{value:e.value,update:a=>{t({...e,value:a})}})),l.createElement("button",{className:"counterWithLabel-module--closeButton--3Koff",onClick:()=>a()}));const u=(0,l.createContext)({load:()=>null,save:()=>{}}),o="counter-list",c={load:()=>{if("undefined"==typeof localStorage)return null;const e=localStorage.getItem(o);return e?JSON.parse(e):null},save:e=>{"undefined"!=typeof localStorage&&localStorage.setItem(o,JSON.stringify(e))}};var s=a(2755),d=a(9470);const m=(e,t)=>{let a;switch(t.type){case"append":return a=[...e,t.prop],c.save(a),a;case"update":return a=[...e],a[t.index]=t.prop,c.save(a),a;case"remove":return a=e.filter(((e,a)=>a!==t.index)),c.save(a),a;default:return t}};var p=()=>{var e;const{0:t,1:a}=(0,l.useState)(0),{0:n,1:o}=(0,l.useReducer)(m,null!==(e=c.load())&&void 0!==e?e:[]);return l.createElement(u.Provider,{value:c},l.createElement(s.Z,null,l.createElement(d.Z,{title:"Home"}),l.createElement("div",{className:"index-module--counterList--2lrXi"},n.map(((e,t)=>l.createElement(r,{prop:e,update:e=>o({type:"update",index:t,prop:e}),remove:()=>o({type:"remove",index:t}),key:e.id}))),l.createElement("button",{className:"index-module--appendButton--2Vm-b",onClick:()=>{o({type:"append",prop:{id:t,label:"",value:0}}),a(t>=Number.MAX_SAFE_INTEGER?0:t+1)}}))))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-ce0ad3cbd0be21d7b755.js.map